"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chatbot/chat/route";
exports.ids = ["app/api/chatbot/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "undici?6303":
/*!*************************!*\
  !*** external "undici" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("undici");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchatbot%2Fchat%2Froute&page=%2Fapi%2Fchatbot%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchatbot%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchatbot%2Fchat%2Froute&page=%2Fapi%2Fchatbot%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchatbot%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_macbookpro_Documents_TEDSAI_AI_VENTURE_src_app_api_chatbot_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chatbot/chat/route.ts */ \"(rsc)/./src/app/api/chatbot/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chatbot/chat/route\",\n        pathname: \"/api/chatbot/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/chatbot/chat/route\"\n    },\n    resolvedPagePath: \"/Users/macbookpro/Documents/TEDSAI_AI_VENTURE/src/app/api/chatbot/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_macbookpro_Documents_TEDSAI_AI_VENTURE_src_app_api_chatbot_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chatbot/chat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0Ym90JTJGY2hhdCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2hhdGJvdCUyRmNoYXQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjaGF0Ym90JTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm1hY2Jvb2twcm8lMkZEb2N1bWVudHMlMkZURURTQUlfQUlfVkVOVFVSRSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZtYWNib29rcHJvJTJGRG9jdW1lbnRzJTJGVEVEU0FJX0FJX1ZFTlRVUkUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQytCO0FBQzVHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVkc2FpLXdlYi8/MzAyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbWFjYm9va3Byby9Eb2N1bWVudHMvVEVEU0FJX0FJX1ZFTlRVUkUvc3JjL2FwcC9hcGkvY2hhdGJvdC9jaGF0L3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGF0Ym90L2NoYXQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jaGF0Ym90L2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2NoYXRib3QvY2hhdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9tYWNib29rcHJvL0RvY3VtZW50cy9URURTQUlfQUlfVkVOVFVSRS9zcmMvYXBwL2FwaS9jaGF0Ym90L2NoYXQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NoYXRib3QvY2hhdC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchatbot%2Fchat%2Froute&page=%2Fapi%2Fchatbot%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchatbot%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chatbot/chat/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/chatbot/chat/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_gemini_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/gemini/client */ \"(rsc)/./src/lib/gemini/client.ts\");\n/* harmony import */ var _lib_gemini_prompts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/gemini/prompts */ \"(rsc)/./src/lib/gemini/prompts.ts\");\n/* harmony import */ var _services_chatbot_site_indexer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/services/chatbot/site-indexer */ \"(rsc)/./src/services/chatbot/site-indexer.ts\");\n\n\n\n\n// Rate limiting (simple in-memory implementation for POC)\nconst requestCounts = new Map();\nconst RATE_LIMIT = 10; // messages per minute\nconst RATE_WINDOW = 60 * 1000; // 1 minute\nfunction checkRateLimit(identifier) {\n    const now = Date.now();\n    const userLimit = requestCounts.get(identifier);\n    if (!userLimit || now > userLimit.resetTime) {\n        requestCounts.set(identifier, {\n            count: 1,\n            resetTime: now + RATE_WINDOW\n        });\n        return true;\n    }\n    if (userLimit.count >= RATE_LIMIT) {\n        return false;\n    }\n    userLimit.count++;\n    return true;\n}\n/**\n * Extract keywords from user message for site content search\n */ function extractKeywords(message) {\n    const lowerMessage = message.toLowerCase();\n    // Define keyword mapping for better search\n    const keywordMap = {\n        \"ia\": [\n            \"ia\",\n            \"intelligence\",\n            \"artificielle\"\n        ],\n        \"restaurant\": [\n            \"restaurant\",\n            \"vitedia\",\n            \"manger\",\n            \"cuisine\"\n        ],\n        \"jardin\": [\n            \"jardin\",\n            \"garden\",\n            \"l\\xe9gumes\",\n            \"bio\"\n        ],\n        \"\\xe9picerie\": [\n            \"\\xe9picerie\",\n            \"boutique\",\n            \"shop\",\n            \"produits\"\n        ],\n        \"\\xe9levage\": [\n            \"\\xe9levage\",\n            \"viande\",\n            \"animaux\"\n        ],\n        \"r\\xe9servation\": [\n            \"r\\xe9servation\",\n            \"r\\xe9server\",\n            \"booking\"\n        ],\n        \"contact\": [\n            \"contact\",\n            \"email\",\n            \"t\\xe9l\\xe9phone\"\n        ]\n    };\n    const keywords = [];\n    for (const [key, values] of Object.entries(keywordMap)){\n        if (values.some((val)=>lowerMessage.includes(val))) {\n            keywords.push(...values);\n        }\n    }\n    return keywords.length > 0 ? keywords : [\n        \"tedsai\",\n        \"complex\"\n    ];\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { message, conversationHistory } = body;\n        // Validation\n        if (!message || typeof message !== \"string\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Message is required and must be a string\"\n            }, {\n                status: 400\n            });\n        }\n        if (message.length > 500) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Message is too long (max 500 characters)\"\n            }, {\n                status: 400\n            });\n        }\n        // Rate limiting\n        const clientIp = request.headers.get(\"x-forwarded-for\") || \"unknown\";\n        if (!checkRateLimit(clientIp)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Too many requests. Please try again later.\"\n            }, {\n                status: 429\n            });\n        }\n        // Detect user intent\n        const intent = (0,_lib_gemini_prompts__WEBPACK_IMPORTED_MODULE_2__.detectUserIntent)(message);\n        // Extract keywords and search site content\n        const keywords = extractKeywords(message);\n        const relevantPages = await (0,_services_chatbot_site_indexer__WEBPACK_IMPORTED_MODULE_3__.searchSiteContent)(keywords);\n        // Format site content for prompt\n        const siteContent = relevantPages.map((page)=>`[${page.title}](${page.url}): ${page.content}`);\n        // Build prompt with site context\n        const prompt = (0,_lib_gemini_prompts__WEBPACK_IMPORTED_MODULE_2__.buildPrompt)(message, {\n            siteContent: siteContent.length > 0 ? siteContent : undefined,\n            conversationHistory: conversationHistory || []\n        });\n        // Generate response\n        const response = await (0,_lib_gemini_client__WEBPACK_IMPORTED_MODULE_1__.generateChatCompletion)(prompt, conversationHistory);\n        // Prepare response with actions\n        const actions = [];\n        if (intent.type === \"reservation\" && intent.confidence > 0.7) {\n            actions.push({\n                type: \"reservation\",\n                label: \"Faire une r\\xe9servation\",\n                url: \"/vitedia#reservation\"\n            });\n        }\n        if (intent.type === \"contact\" && intent.confidence > 0.7) {\n            actions.push({\n                type: \"contact\",\n                label: \"Nous contacter\",\n                url: \"/contact\"\n            });\n        }\n        // Add relevant page links\n        const links = relevantPages.slice(0, 2).map((page)=>({\n                title: page.title,\n                url: page.url\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            response,\n            actions,\n            links: links.length > 0 ? links : undefined,\n            intent: intent.type\n        });\n    } catch (error) {\n        console.error(\"Chatbot API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Une erreur est survenue. Veuillez r\\xe9essayer.\",\n            response: \"Je suis d\\xe9sol\\xe9, je rencontre actuellement une difficult\\xe9 technique. Veuillez r\\xe9essayer dans quelques instants ou **[contacter notre \\xe9quipe](/contact)** directement.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0Ym90L2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDSztBQUNRO0FBQ0Q7QUFFcEUsMERBQTBEO0FBQzFELE1BQU1LLGdCQUFnQixJQUFJQztBQUMxQixNQUFNQyxhQUFhLElBQUksc0JBQXNCO0FBQzdDLE1BQU1DLGNBQWMsS0FBSyxNQUFNLFdBQVc7QUFFMUMsU0FBU0MsZUFBZUMsVUFBa0I7SUFDdEMsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixNQUFNRSxZQUFZUixjQUFjUyxHQUFHLENBQUNKO0lBRXBDLElBQUksQ0FBQ0csYUFBYUYsTUFBTUUsVUFBVUUsU0FBUyxFQUFFO1FBQ3pDVixjQUFjVyxHQUFHLENBQUNOLFlBQVk7WUFBRU8sT0FBTztZQUFHRixXQUFXSixNQUFNSDtRQUFZO1FBQ3ZFLE9BQU87SUFDWDtJQUVBLElBQUlLLFVBQVVJLEtBQUssSUFBSVYsWUFBWTtRQUMvQixPQUFPO0lBQ1g7SUFFQU0sVUFBVUksS0FBSztJQUNmLE9BQU87QUFDWDtBQUVBOztDQUVDLEdBQ0QsU0FBU0MsZ0JBQWdCQyxPQUFlO0lBQ3BDLE1BQU1DLGVBQWVELFFBQVFFLFdBQVc7SUFFeEMsMkNBQTJDO0lBQzNDLE1BQU1DLGFBQWE7UUFDZixNQUFNO1lBQUM7WUFBTTtZQUFnQjtTQUFlO1FBQzVDLGNBQWM7WUFBQztZQUFjO1lBQVc7WUFBVTtTQUFVO1FBQzVELFVBQVU7WUFBQztZQUFVO1lBQVU7WUFBVztTQUFNO1FBQ2hELGVBQVk7WUFBQztZQUFZO1lBQVk7WUFBUTtTQUFXO1FBQ3hELGNBQVc7WUFBQztZQUFXO1lBQVU7U0FBVTtRQUMzQyxrQkFBZTtZQUFDO1lBQWU7WUFBWTtTQUFVO1FBQ3JELFdBQVc7WUFBQztZQUFXO1lBQVM7U0FBWTtJQUNoRDtJQUVBLE1BQU1DLFdBQXFCLEVBQUU7SUFFN0IsS0FBSyxNQUFNLENBQUNDLEtBQUtDLE9BQU8sSUFBSUMsT0FBT0MsT0FB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QUNvQyxJQUFJLENBQ3BCO1lBQ0lFLE9BQU87WUFDUGMsVUFBVTtRQUNkLEdBQ0E7WUFBRWIsUUFBUTtRQUFJO0lBRXRCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZWRzYWktd2ViLy4vc3JjL2FwcC9hcGkvY2hhdGJvdC9jaGF0L3JvdXRlLnRzP2ZlNjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGdlbmVyYXRlQ2hhdENvbXBsZXRpb24gfSBmcm9tICdAL2xpYi9nZW1pbmkvY2xpZW50JztcbmltcG9ydCB7IGJ1aWxkUHJvbXB0LCBkZXRlY3RVc2VySW50ZW50IH0gZnJvbSAnQC9saWIvZ2VtaW5pL3Byb21wdHMnO1xuaW1wb3J0IHsgc2VhcmNoU2l0ZUNvbnRlbnQgfSBmcm9tICdAL3NlcnZpY2VzL2NoYXRib3Qvc2l0ZS1pbmRleGVyJztcblxuLy8gUmF0ZSBsaW1pdGluZyAoc2ltcGxlIGluLW1lbW9yeSBpbXBsZW1lbnRhdGlvbiBmb3IgUE9DKVxuY29uc3QgcmVxdWVzdENvdW50cyA9IG5ldyBNYXA8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IHJlc2V0VGltZTogbnVtYmVyIH0+KCk7XG5jb25zdCBSQVRFX0xJTUlUID0gMTA7IC8vIG1lc3NhZ2VzIHBlciBtaW51dGVcbmNvbnN0IFJBVEVfV0lORE9XID0gNjAgKiAxMDAwOyAvLyAxIG1pbnV0ZVxuXG5mdW5jdGlvbiBjaGVja1JhdGVMaW1pdChpZGVudGlmaWVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHVzZXJMaW1pdCA9IHJlcXVlc3RDb3VudHMuZ2V0KGlkZW50aWZpZXIpO1xuXG4gICAgaWYgKCF1c2VyTGltaXQgfHwgbm93ID4gdXNlckxpbWl0LnJlc2V0VGltZSkge1xuICAgICAgICByZXF1ZXN0Q291bnRzLnNldChpZGVudGlmaWVyLCB7IGNvdW50OiAxLCByZXNldFRpbWU6IG5vdyArIFJBVEVfV0lORE9XIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodXNlckxpbWl0LmNvdW50ID49IFJBVEVfTElNSVQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHVzZXJMaW1pdC5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEV4dHJhY3Qga2V5d29yZHMgZnJvbSB1c2VyIG1lc3NhZ2UgZm9yIHNpdGUgY29udGVudCBzZWFyY2hcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEtleXdvcmRzKG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBsb3dlck1lc3NhZ2UgPSBtZXNzYWdlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBEZWZpbmUga2V5d29yZCBtYXBwaW5nIGZvciBiZXR0ZXIgc2VhcmNoXG4gICAgY29uc3Qga2V5d29yZE1hcCA9IHtcbiAgICAgICAgJ2lhJzogWydpYScsICdpbnRlbGxpZ2VuY2UnLCAnYXJ0aWZpY2llbGxlJ10sXG4gICAgICAgICdyZXN0YXVyYW50JzogWydyZXN0YXVyYW50JywgJ3ZpdGVkaWEnLCAnbWFuZ2VyJywgJ2N1aXNpbmUnXSxcbiAgICAgICAgJ2phcmRpbic6IFsnamFyZGluJywgJ2dhcmRlbicsICdsw6lndW1lcycsICdiaW8nXSxcbiAgICAgICAgJ8OpcGljZXJpZSc6IFsnw6lwaWNlcmllJywgJ2JvdXRpcXVlJywgJ3Nob3AnLCAncHJvZHVpdHMnXSxcbiAgICAgICAgJ8OpbGV2YWdlJzogWyfDqWxldmFnZScsICd2aWFuZGUnLCAnYW5pbWF1eCddLFxuICAgICAgICAncsOpc2VydmF0aW9uJzogWydyw6lzZXJ2YXRpb24nLCAncsOpc2VydmVyJywgJ2Jvb2tpbmcnXSxcbiAgICAgICAgJ2NvbnRhY3QnOiBbJ2NvbnRhY3QnLCAnZW1haWwnLCAndMOpbMOpcGhvbmUnXSxcbiAgICB9O1xuXG4gICAgY29uc3Qga2V5d29yZHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2YgT2JqZWN0LmVudHJpZXMoa2V5d29yZE1hcCkpIHtcbiAgICAgICAgaWYgKHZhbHVlcy5zb21lKHZhbCA9PiBsb3dlck1lc3NhZ2UuaW5jbHVkZXModmFsKSkpIHtcbiAgICAgICAgICAgIGtleXdvcmRzLnB1c2goLi4udmFsdWVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBrZXl3b3Jkcy5sZW5ndGggPiAwID8ga2V5d29yZHMgOiBbJ3RlZHNhaScsICdjb21wbGV4J107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UsIGNvbnZlcnNhdGlvbkhpc3RvcnkgfSA9IGJvZHk7XG5cbiAgICAgICAgLy8gVmFsaWRhdGlvblxuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgdHlwZW9mIG1lc3NhZ2UgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogJ01lc3NhZ2UgaXMgcmVxdWlyZWQgYW5kIG11c3QgYmUgYSBzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoID4gNTAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICAgICAgeyBlcnJvcjogJ01lc3NhZ2UgaXMgdG9vIGxvbmcgKG1heCA1MDAgY2hhcmFjdGVycyknIH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmF0ZSBsaW1pdGluZ1xuICAgICAgICBjb25zdCBjbGllbnRJcCA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJztcbiAgICAgICAgaWYgKCFjaGVja1JhdGVMaW1pdChjbGllbnRJcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgICAgICB7IGVycm9yOiAnVG9vIG1hbnkgcmVxdWVzdHMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVjdCB1c2VyIGludGVudFxuICAgICAgICBjb25zdCBpbnRlbnQgPSBkZXRlY3RVc2VySW50ZW50KG1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIEV4dHJhY3Qga2V5d29yZHMgYW5kIHNlYXJjaCBzaXRlIGNvbnRlbnRcbiAgICAgICAgY29uc3Qga2V5d29yZHMgPSBleHRyYWN0S2V5d29yZHMobWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IHJlbGV2YW50UGFnZXMgPSBhd2FpdCBzZWFyY2hTaXRlQ29udGVudChrZXl3b3Jkcyk7XG5cbiAgICAgICAgLy8gRm9ybWF0IHNpdGUgY29udGVudCBmb3IgcHJvbXB0XG4gICAgICAgIGNvbnN0IHNpdGVDb250ZW50ID0gcmVsZXZhbnRQYWdlcy5tYXAocGFnZSA9PlxuICAgICAgICAgICAgYFske3BhZ2UudGl0bGV9XSgke3BhZ2UudXJsfSk6ICR7cGFnZS5jb250ZW50fWBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBCdWlsZCBwcm9tcHQgd2l0aCBzaXRlIGNvbnRleHRcbiAgICAgICAgY29uc3QgcHJvbXB0ID0gYnVpbGRQcm9tcHQobWVzc2FnZSwge1xuICAgICAgICAgICAgc2l0ZUNvbnRlbnQ6IHNpdGVDb250ZW50Lmxlbmd0aCA+IDAgPyBzaXRlQ29udGVudCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbkhpc3Rvcnk6IGNvbnZlcnNhdGlvbkhpc3RvcnkgfHwgW10sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2VuZXJhdGVDaGF0Q29tcGxldGlvbihwcm9tcHQsIGNvbnZlcnNhdGlvbkhpc3RvcnkpO1xuXG4gICAgICAgIC8vIFByZXBhcmUgcmVzcG9uc2Ugd2l0aCBhY3Rpb25zXG4gICAgICAgIGNvbnN0IGFjdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGludGVudC50eXBlID09PSAncmVzZXJ2YXRpb24nICYmIGludGVudC5jb25maWRlbmNlID4gMC43KSB7XG4gICAgICAgICAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNlcnZhdGlvbicsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdGYWlyZSB1bmUgcsOpc2VydmF0aW9uJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcvdml0ZWRpYSNyZXNlcnZhdGlvbicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZW50LnR5cGUgPT09ICdjb250YWN0JyAmJiBpbnRlbnQuY29uZmlkZW5jZSA+IDAuNykge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnY29udGFjdCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdOb3VzIGNvbnRhY3RlcicsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NvbnRhY3QnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgcmVsZXZhbnQgcGFnZSBsaW5rc1xuICAgICAgICBjb25zdCBsaW5rcyA9IHJlbGV2YW50UGFnZXMuc2xpY2UoMCwgMikubWFwKHBhZ2UgPT4gKHtcbiAgICAgICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICAgICAgdXJsOiBwYWdlLnVybCxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIGFjdGlvbnMsXG4gICAgICAgICAgICBsaW5rczogbGlua3MubGVuZ3RoID4gMCA/IGxpbmtzIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaW50ZW50OiBpbnRlbnQudHlwZSxcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQ2hhdGJvdCBBUEkgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXJyb3I6ICdVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZS4gVmV1aWxsZXogcsOpZXNzYXllci4nLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiAnSmUgc3VpcyBkw6lzb2zDqSwgamUgcmVuY29udHJlIGFjdHVlbGxlbWVudCB1bmUgZGlmZmljdWx0w6kgdGVjaG5pcXVlLiBWZXVpbGxleiByw6llc3NheWVyIGRhbnMgcXVlbHF1ZXMgaW5zdGFudHMgb3UgKipbY29udGFjdGVyIG5vdHJlIMOpcXVpcGVdKC9jb250YWN0KSoqIGRpcmVjdGVtZW50LicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICAgICk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdlbmVyYXRlQ2hhdENvbXBsZXRpb24iLCJidWlsZFByb21wdCIsImRldGVjdFVzZXJJbnRlbnQiLCJzZWFyY2hTaXRlQ29udGVudCIsInJlcXVlc3RDb3VudHMiLCJNYXAiLCJSQVRFX0xJTUlUIiwiUkFURV9XSU5ET1ciLCJjaGVja1JhdGVMaW1pdCIsImlkZW50aWZpZXIiLCJub3ciLCJEYXRlIiwidXNlckxpbWl0IiwiZ2V0IiwicmVzZXRUaW1lIiwic2V0IiwiY291bnQiLCJleHRyYWN0S2V5d29yZHMiLCJtZXNzYWdlIiwibG93ZXJNZXNzYWdlIiwidG9Mb3dlckNhc2UiLCJrZXl3b3JkTWFwIiwia2V5d29yZHMiLCJrZXkiLCJ2YWx1ZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwic29tZSIsInZhbCIsImluY2x1ZGVzIiwicHVzaCIsImxlbmd0aCIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJjb252ZXJzYXRpb25IaXN0b3J5IiwiZXJyb3IiLCJzdGF0dXMiLCJjbGllbnRJcCIsImhlYWRlcnMiLCJpbnRlbnQiLCJyZWxldmFudFBhZ2VzIiwic2l0ZUNvbnRlbnQiLCJtYXAiLCJwYWdlIiwidGl0bGUiLCJ1cmwiLCJjb250ZW50IiwicHJvbXB0IiwidW5kZWZpbmVkIiwicmVzcG9uc2UiLCJhY3Rpb25zIiwidHlwZSIsImNvbmZpZGVuY2UiLCJsYWJlbCIsImxpbmtzIiwic2xpY2UiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chatbot/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/firebase/config.ts":
/*!************************************!*\
  !*** ./src/lib/firebase/config.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(rsc)/./node_modules/firebase/app/dist/index.mjs\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"(rsc)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(rsc)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"(rsc)/./node_modules/firebase/storage/dist/index.mjs\");\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDFtVRpZiELmWbxLcwaUX53vEXh3x4wPyw\",\n    authDomain: \"tedsai-prod-dd55f.firebaseapp.com\",\n    projectId: \"tedsai-prod-dd55f\",\n    storageBucket: \"tedsai-prod-dd55f.firebasestorage.app\",\n    messagingSenderId: \"889607754188\",\n    appId: \"1:889607754188:web:b06be52e987883a06c4d69\",\n    measurementId: \"G-0WM9ETBKV5\"\n};\n// Validate Firebase config\nconst isConfigValid = Object.values(firebaseConfig).every((value)=>value && value !== \"undefined\");\nif (!isConfigValid && \"undefined\" !== \"undefined\") {} else if (!isConfigValid) {\n    const missingKeys = Object.entries(firebaseConfig).filter(([_, value])=>!value || value === \"undefined\").map(([key])=>key);\n    console.log(\"Server-side Firebase config incomplete. Missing:\", missingKeys.join(\", \"));\n}\n// Initialize Firebase only if config is valid\nlet app;\nlet auth;\nlet db;\nlet storage;\nif (isConfigValid) {\n    app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n    db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\n    storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(app);\n} else {\n    // Provide mock instances for development\n    app = null;\n    auth = null;\n    db = null;\n    storage = null;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2ZpcmViYXNlL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRDtBQUNkO0FBQ1U7QUFDSjtBQUU5QyxNQUFNSyxpQkFBaUI7SUFDbkJDLFFBQVFDLHlDQUF3QztJQUNoREcsWUFBWUgsbUNBQTRDO0lBQ3hESyxXQUFXTCxtQkFBMkM7SUFDdERPLGVBQWVQLHVDQUErQztJQUM5RFMsbUJBQW1CVCxjQUFvRDtJQUN2RVcsT0FBT1gsMkNBQXVDO0lBQzlDYSxlQUFlYixjQUErQztBQUNsRTtBQUVBLDJCQUEyQjtBQUMzQixNQUFNZSxnQkFBZ0JDLE9BQU9DLE1BQU0sQ0FBQ25CLGdCQUFnQm9CLEtBQUssQ0FBQ0MsQ0FBQUEsUUFBU0EsU0FBU0EsVUFBVTtBQUV0RixJQUFJLENBQUNKLGlCQUFpQixnQkFBa0IsYUFBYSxFQUtwRCxNQUFNLElBQUksQ0FBQ0EsZUFBZTtJQUN2QixNQUFNSyxjQUFjSixPQUFPSyxPQUFPLENBQUN2QixnQkFDOUJ3QixNQUFNLENBQUMsQ0FBQyxDQUFDQyxHQUFHSixNQUFNLEdBQUssQ0FBQ0EsU0FBU0EsVUFBVSxhQUMzQ0ssR0FBRyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxHQUFLQTtJQUNwQkMsUUFBUUcsR0FBRyxDQUFDLG9EQUFvRFQsWUFBWVEsSUFBSSxDQUFDO0FBQ3JGO0FBRUEsOENBQThDO0FBQzlDLElBQUlFO0FBQ0osSUFBSUM7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBRUosSUFBSWxCLGVBQWU7SUFDZmUsTUFBTXBDLHFEQUFPQSxHQUFHd0MsTUFBTSxLQUFLLElBQUl6QywyREFBYUEsQ0FBQ0ssa0JBQWtCSixxREFBT0EsRUFBRSxDQUFDLEVBQUU7SUFDM0VxQyxPQUFPcEMsc0RBQU9BLENBQUNtQztJQUNmRSxLQUFLcEMsZ0VBQVlBLENBQUNrQztJQUNsQkcsVUFBVXBDLDREQUFVQSxDQUFDaUM7QUFDekIsT0FBTztJQUNILHlDQUF5QztJQUN6Q0EsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLEtBQUs7SUFDTEMsVUFBVTtBQUNkO0FBRTZCO0FBQzdCLGlFQUFlSCxHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVkc2FpLXdlYi8uL3NyYy9saWIvZmlyZWJhc2UvY29uZmlnLnRzPzc3YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcyB9IGZyb20gJ2ZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBnZXRBdXRoIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSB9IGZyb20gJ2ZpcmViYXNlL3N0b3JhZ2UnO1xuXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcbiAgICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksXG4gICAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4sXG4gICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lELFxuICAgIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULFxuICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxuICAgIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQsXG4gICAgbWVhc3VyZW1lbnRJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQsXG59O1xuXG4vLyBWYWxpZGF0ZSBGaXJlYmFzZSBjb25maWdcbmNvbnN0IGlzQ29uZmlnVmFsaWQgPSBPYmplY3QudmFsdWVzKGZpcmViYXNlQ29uZmlnKS5ldmVyeSh2YWx1ZSA9PiB2YWx1ZSAmJiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpO1xuXG5pZiAoIWlzQ29uZmlnVmFsaWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCBtaXNzaW5nS2V5cyA9IE9iamVjdC5lbnRyaWVzKGZpcmViYXNlQ29uZmlnKVxuICAgICAgICAuZmlsdGVyKChbXywgdmFsdWVdKSA9PiAhdmFsdWUgfHwgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAubWFwKChba2V5XSkgPT4ga2V5KTtcbiAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIGNvbmZpZ3VyYXRpb24gaXMgaW5jb21wbGV0ZS4gTWlzc2luZzonLCBtaXNzaW5nS2V5cy5qb2luKCcsICcpKTtcbn0gZWxzZSBpZiAoIWlzQ29uZmlnVmFsaWQpIHtcbiAgICBjb25zdCBtaXNzaW5nS2V5cyA9IE9iamVjdC5lbnRyaWVzKGZpcmViYXNlQ29uZmlnKVxuICAgICAgICAuZmlsdGVyKChbXywgdmFsdWVdKSA9PiAhdmFsdWUgfHwgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAubWFwKChba2V5XSkgPT4ga2V5KTtcbiAgICBjb25zb2xlLmxvZygnU2VydmVyLXNpZGUgRmlyZWJhc2UgY29uZmlnIGluY29tcGxldGUuIE1pc3Npbmc6JywgbWlzc2luZ0tleXMuam9pbignLCAnKSk7XG59XG5cbi8vIEluaXRpYWxpemUgRmlyZWJhc2Ugb25seSBpZiBjb25maWcgaXMgdmFsaWRcbmxldCBhcHA6IGFueTtcbmxldCBhdXRoOiBhbnk7XG5sZXQgZGI6IGFueTtcbmxldCBzdG9yYWdlOiBhbnk7XG5cbmlmIChpc0NvbmZpZ1ZhbGlkKSB7XG4gICAgYXBwID0gZ2V0QXBwcygpLmxlbmd0aCA9PT0gMCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpIDogZ2V0QXBwcygpWzBdO1xuICAgIGF1dGggPSBnZXRBdXRoKGFwcCk7XG4gICAgZGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcbiAgICBzdG9yYWdlID0gZ2V0U3RvcmFnZShhcHApO1xufSBlbHNlIHtcbiAgICAvLyBQcm92aWRlIG1vY2sgaW5zdGFuY2VzIGZvciBkZXZlbG9wbWVudFxuICAgIGFwcCA9IG51bGwgYXMgYW55O1xuICAgIGF1dGggPSBudWxsIGFzIGFueTtcbiAgICBkYiA9IG51bGwgYXMgYW55O1xuICAgIHN0b3JhZ2UgPSBudWxsIGFzIGFueTtcbn1cblxuZXhwb3J0IHsgYXV0aCwgZGIsIHN0b3JhZ2UgfTtcbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEF1dGgiLCJnZXRGaXJlc3RvcmUiLCJnZXRTdG9yYWdlIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSIsImF1dGhEb21haW4iLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiIsInByb2plY3RJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQiLCJzdG9yYWdlQnVja2V0IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQiLCJhcHBJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCIsIm1lYXN1cmVtZW50SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRUFTVVJFTUVOVF9JRCIsImlzQ29uZmlnVmFsaWQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJldmVyeSIsInZhbHVlIiwibWlzc2luZ0tleXMiLCJlbnRyaWVzIiwiZmlsdGVyIiwiXyIsIm1hcCIsImtleSIsImNvbnNvbGUiLCJ3YXJuIiwiam9pbiIsImxvZyIsImFwcCIsImF1dGgiLCJkYiIsInN0b3JhZ2UiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/firebase/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/gemini/client.ts":
/*!**********************************!*\
  !*** ./src/lib/gemini/client.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   genAI: () => (/* binding */ genAI),\n/* harmony export */   generateChatCompletion: () => (/* binding */ generateChatCompletion),\n/* harmony export */   getModel: () => (/* binding */ getModel),\n/* harmony export */   modelConfig: () => (/* binding */ modelConfig)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\n// Initialize Gemini API client\nconst apiKey = process.env.GEMINI_API_KEY;\nif (!apiKey) {\n    throw new Error(\"GEMINI_API_KEY is not defined in environment variables\");\n}\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\n// Model configuration for TEDSAI chatbot\nconst modelConfig = {\n    model: \"gemini-pro\",\n    generationConfig: {\n        temperature: 0.7,\n        topP: 0.95,\n        topK: 40,\n        maxOutputTokens: 1024\n    },\n    safetySettings: [\n        {\n            category: \"HARM_CATEGORY_HARASSMENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        },\n        {\n            category: \"HARM_CATEGORY_HATE_SPEECH\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        },\n        {\n            category: \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        },\n        {\n            category: \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n            threshold: \"BLOCK_MEDIUM_AND_ABOVE\"\n        }\n    ]\n};\n// Get configured model instance\nfunction getModel() {\n    return genAI.getGenerativeModel(modelConfig);\n}\n// Helper function to generate chat completion\nasync function generateChatCompletion(prompt, conversationHistory) {\n    try {\n        const model = getModel();\n        // If there's conversation history, use chat mode\n        if (conversationHistory && conversationHistory.length > 0) {\n            const chat = model.startChat({\n                history: conversationHistory.map((msg)=>({\n                        role: msg.role === \"user\" ? \"user\" : \"model\",\n                        parts: [\n                            {\n                                text: msg.content\n                            }\n                        ]\n                    }))\n            });\n            const result = await chat.sendMessage(prompt);\n            const response = await result.response;\n            return response.text();\n        }\n        // Otherwise, use simple generation\n        const result = await model.generateContent(prompt);\n        const response = await result.response;\n        return response.text();\n    } catch (error) {\n        console.error(\"Error generating chat completion:\", error);\n        throw new Error(\"Failed to generate response from Gemini\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2dlbWluaS9jbGllbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEU7QUFFNUUsK0JBQStCO0FBQy9CLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztBQUV6QyxJQUFJLENBQUNILFFBQVE7SUFDVCxNQUFNLElBQUlJLE1BQU07QUFDcEI7QUFFTyxNQUFNQyxRQUFRLElBQUlOLHFFQUFrQkEsQ0FBQ0MsUUFBUTtBQUVwRCx5Q0FBeUM7QUFDbEMsTUFBTU0sY0FBYztJQUN2QkMsT0FBTztJQUNQQyxrQkFBa0I7UUFDZEMsYUFBYTtRQUNiQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsaUJBQWlCO0lBQ3JCO0lBQ0FDLGdCQUFnQjtRQUNaO1lBQ0lDLFVBQVU7WUFDVkMsV0FBVztRQUNmO1FBQ0E7WUFDSUQsVUFBVTtZQUNWQyxXQUFXO1FBQ2Y7UUFDQTtZQUNJRCxVQUFVO1lBQ1ZDLFdBQVc7UUFDZjtRQUNBO1lBQ0lELFVBQVU7WUFDVkMsV0FBVztRQUNmO0tBQ0g7QUFDTCxFQUFFO0FBRUYsZ0NBQWdDO0FBQ3pCLFNBQVNDO0lBQ1osT0FBT1gsTUFBTVksa0JBQWtCLENBQUNYO0FBQ3BDO0FBRUEsOENBQThDO0FBQ3ZDLGVBQWVZLHVCQUNsQkMsTUFBYyxFQUNkQyxtQkFBeUQ7SUFFekQsSUFBSTtRQUNBLE1BQU1iLFFBQVFTO1FBRWQsaURBQWlEO1FBQ2pELElBQUlJLHVCQUF1QkEsb0JBQW9CQyxNQUFNLEdBQUcsR0FBRztZQUN2RCxNQUFNQyxPQUFPZixNQUFNZ0IsU0FBUyxDQUFDO2dCQUN6QkMsU0FBU0osb0JBQW9CSyxHQUFHLENBQUNDLENBQUFBLE1BQVE7d0JBQ3JDQyxNQUFNRCxJQUFJQyxJQUFJLEtBQUssU0FBUyxTQUFTO3dCQUNyQ0MsT0FBTzs0QkFBQztnQ0FBRUMsTUFBTUgsSUFBSUksT0FBTzs0QkFBQzt5QkFBRTtvQkFDbEM7WUFDSjtZQUVBLE1BQU1DLFNBQVMsTUFBTVQsS0FBS1UsV0FBVyxDQUFDYjtZQUN0QyxNQUFNYyxXQUFXLE1BQU1GLE9BQU9FLFFBQVE7WUFDdEMsT0FBT0EsU0FBU0osSUFBSTtRQUN4QjtRQUVBLG1DQUFtQztRQUNuQyxNQUFNRSxTQUFTLE1BQU14QixNQUFNMkIsZUFBZSxDQUFDZjtRQUMzQyxNQUFNYyxXQUFXLE1BQU1GLE9BQU9FLFFBQVE7UUFDdEMsT0FBT0EsU0FBU0osSUFBSTtJQUN4QixFQUFFLE9BQU9NLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsTUFBTSxJQUFJL0IsTUFBTTtJQUNwQjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVkc2FpLXdlYi8uL3NyYy9saWIvZ2VtaW5pL2NsaWVudC50cz9lNTFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSwgR2VuZXJhdGl2ZU1vZGVsIH0gZnJvbSAnQGdvb2dsZS9nZW5lcmF0aXZlLWFpJztcblxuLy8gSW5pdGlhbGl6ZSBHZW1pbmkgQVBJIGNsaWVudFxuY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVk7XG5cbmlmICghYXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdHRU1JTklfQVBJX0tFWSBpcyBub3QgZGVmaW5lZCBpbiBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShhcGlLZXkpO1xuXG4vLyBNb2RlbCBjb25maWd1cmF0aW9uIGZvciBURURTQUkgY2hhdGJvdFxuZXhwb3J0IGNvbnN0IG1vZGVsQ29uZmlnID0ge1xuICAgIG1vZGVsOiAnZ2VtaW5pLXBybycsIC8vIFN0YWJsZSBhbmQgd2lkZWx5IHN1cHBvcnRlZFxuICAgIGdlbmVyYXRpb25Db25maWc6IHtcbiAgICAgICAgdGVtcGVyYXR1cmU6IDAuNywgLy8gQmFsYW5jZSBiZXR3ZWVuIGNyZWF0aXZpdHkgYW5kIHByZWNpc2lvblxuICAgICAgICB0b3BQOiAwLjk1LFxuICAgICAgICB0b3BLOiA0MCxcbiAgICAgICAgbWF4T3V0cHV0VG9rZW5zOiAxMDI0LFxuICAgIH0sXG4gICAgc2FmZXR5U2V0dGluZ3M6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdIQVJNX0NBVEVHT1JZX0hBUkFTU01FTlQnLFxuICAgICAgICAgICAgdGhyZXNob2xkOiAnQkxPQ0tfTUVESVVNX0FORF9BQk9WRScsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnSEFSTV9DQVRFR09SWV9IQVRFX1NQRUVDSCcsXG4gICAgICAgICAgICB0aHJlc2hvbGQ6ICdCTE9DS19NRURJVU1fQU5EX0FCT1ZFJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdIQVJNX0NBVEVHT1JZX1NFWFVBTExZX0VYUExJQ0lUJyxcbiAgICAgICAgICAgIHRocmVzaG9sZDogJ0JMT0NLX01FRElVTV9BTkRfQUJPVkUnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ0hBUk1fQ0FURUdPUllfREFOR0VST1VTX0NPTlRFTlQnLFxuICAgICAgICAgICAgdGhyZXNob2xkOiAnQkxPQ0tfTUVESVVNX0FORF9BQk9WRScsXG4gICAgICAgIH0sXG4gICAgXSxcbn07XG5cbi8vIEdldCBjb25maWd1cmVkIG1vZGVsIGluc3RhbmNlXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kZWwoKTogR2VuZXJhdGl2ZU1vZGVsIHtcbiAgICByZXR1cm4gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKG1vZGVsQ29uZmlnKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGNoYXQgY29tcGxldGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ2hhdENvbXBsZXRpb24oXG4gICAgcHJvbXB0OiBzdHJpbmcsXG4gICAgY29udmVyc2F0aW9uSGlzdG9yeT86IHsgcm9sZTogc3RyaW5nOyBjb250ZW50OiBzdHJpbmcgfVtdXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gZ2V0TW9kZWwoKTtcblxuICAgICAgICAvLyBJZiB0aGVyZSdzIGNvbnZlcnNhdGlvbiBoaXN0b3J5LCB1c2UgY2hhdCBtb2RlXG4gICAgICAgIGlmIChjb252ZXJzYXRpb25IaXN0b3J5ICYmIGNvbnZlcnNhdGlvbkhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgY2hhdCA9IG1vZGVsLnN0YXJ0Q2hhdCh7XG4gICAgICAgICAgICAgICAgaGlzdG9yeTogY29udmVyc2F0aW9uSGlzdG9yeS5tYXAobXNnID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IG1zZy5yb2xlID09PSAndXNlcicgPyAndXNlcicgOiAnbW9kZWwnLFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogW3sgdGV4dDogbXNnLmNvbnRlbnQgfV0sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoYXQuc2VuZE1lc3NhZ2UocHJvbXB0KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgdXNlIHNpbXBsZSBnZW5lcmF0aW9uXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChwcm9tcHQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGNoYXQgY29tcGxldGlvbjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdlbmVyYXRlIHJlc3BvbnNlIGZyb20gR2VtaW5pJyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIkVycm9yIiwiZ2VuQUkiLCJtb2RlbENvbmZpZyIsIm1vZGVsIiwiZ2VuZXJhdGlvbkNvbmZpZyIsInRlbXBlcmF0dXJlIiwidG9wUCIsInRvcEsiLCJtYXhPdXRwdXRUb2tlbnMiLCJzYWZldHlTZXR0aW5ncyIsImNhdGVnb3J5IiwidGhyZXNob2xkIiwiZ2V0TW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJnZW5lcmF0ZUNoYXRDb21wbGV0aW9uIiwicHJvbXB0IiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImxlbmd0aCIsImNoYXQiLCJzdGFydENoYXQiLCJoaXN0b3J5IiwibWFwIiwibXNnIiwicm9sZSIsInBhcnRzIiwidGV4dCIsImNvbnRlbnQiLCJyZXN1bHQiLCJzZW5kTWVzc2FnZSIsInJlc3BvbnNlIiwiZ2VuZXJhdGVDb250ZW50IiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/gemini/client.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/gemini/prompts.ts":
/*!***********************************!*\
  !*** ./src/lib/gemini/prompts.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SYSTEM_PROMPT_BASE: () => (/* binding */ SYSTEM_PROMPT_BASE),\n/* harmony export */   SYSTEM_PROMPT_WITH_CONTEXT: () => (/* binding */ SYSTEM_PROMPT_WITH_CONTEXT),\n/* harmony export */   buildPrompt: () => (/* binding */ buildPrompt),\n/* harmony export */   detectUserIntent: () => (/* binding */ detectUserIntent)\n/* harmony export */ });\n/**\n * System prompt templates for TEDSAI chatbot\n * Tone: Formal and professional\n */ const SYSTEM_PROMPT_BASE = `Vous tes l'assistant virtuel officiel de TEDSAI Complex, un cosystme innovant et durable situ au cur de la nature.\n\nTEDSAI Complex combine harmonieusement :\n-  **Agriculture durable** : Jardin biologique avec traabilit complte\n-  **Gastronomie** : Restaurant Vitdia proposant une cuisine raffine\n-  **picerie fine** : Produits locaux et artisanaux\n-  **levage responsable** : Production respectueuse de l'environnement\n-  **Solutions IA** : Technologies innovantes pour entreprises\n\n## INSTRUCTIONS STRICTES :\n\n### Ton et Style\n- Utilisez un **ton formel et professionnel** en toutes circonstances\n- Rponses **concises et prcises** (maximum 150 mots)\n- Vouvoiement systmatique\n- Vocabulaire professionnel et courtois\n\n### Primtre de Rponse\n- Rpondez UNIQUEMENT sur les sujets lis  TEDSAI Complex\n- Si la question est hors primtre : \"Je suis spcialis dans l'assistance concernant TEDSAI Complex. Pour d'autres sujets, je vous invite  contacter notre quipe directement.\"\n- Ne **jamais inventer** d'informations\n\n### Structure des Rponses\n1. Rponse claire et directe\n2. Lien vers page pertinente si applicable (format : \\`[Texte du lien](URL)\\`)\n3. Proposition d'aide complmentaire si ncessaire\n\n### Actions Spciales\n- **Rservation restaurant** : Diriger vers le formulaire de rservation\n- **Contact** : Proposer le formulaire de contact\n- **Informations produits** : Fournir dtails et rediriger vers pages appropries\n- **Questions techniques** : Offrir support escalad si ncessaire\n\n### En cas d'Incertitude\n\"Je n'ai pas cette information prcise actuellement. Je vous invite  **contacter notre quipe** via [notre formulaire de contact](/contact) ou par tlphone pour obtenir une rponse certaine.\"\n\nMaintenant, rpondez  la question de l'utilisateur :`;\nconst SYSTEM_PROMPT_WITH_CONTEXT = (siteContent, knowledgeBase, conversationHistory)=>`${SYSTEM_PROMPT_BASE}\n\n${siteContent ? `\\n### INFORMATIONS DU SITE :\\n${siteContent}\\n` : \"\"}\n${knowledgeBase ? `\\n### BASE DE CONNAISSANCES PRIORITAIRE :\\n${knowledgeBase}\\n` : \"\"}\n${conversationHistory ? `\\n### HISTORIQUE DE LA CONVERSATION :\\n${conversationHistory}\\n` : \"\"}\n\n---\n\nQUESTION DE L'UTILISATEUR :`;\n/**\n * Generate a complete prompt with context\n */ function buildPrompt(userMessage, options) {\n    const { siteContent, knowledgeBase, conversationHistory } = options || {};\n    // Format site content\n    const formattedSiteContent = siteContent?.length ? siteContent.map((content, index)=>`${index + 1}. ${content}`).join(\"\\n\") : undefined;\n    // Format knowledge base\n    const formattedKnowledge = knowledgeBase?.length ? knowledgeBase.map((kb, index)=>`${index + 1}. ${kb}`).join(\"\\n\") : undefined;\n    // Format conversation history\n    const formattedHistory = conversationHistory?.length ? conversationHistory.map((msg)=>`${msg.role === \"user\" ? \"Utilisateur\" : \"Assistant\"}: ${msg.content}`).join(\"\\n\") : undefined;\n    const systemPrompt = SYSTEM_PROMPT_WITH_CONTEXT(formattedSiteContent, formattedKnowledge, formattedHistory);\n    return `${systemPrompt}\\n\\n${userMessage}`;\n}\n/**\n * Extract action hints from user message\n */ function detectUserIntent(message) {\n    const lowerMessage = message.toLowerCase();\n    // Reservation keywords\n    if (lowerMessage.includes(\"r\\xe9serv\") || lowerMessage.includes(\"table\") || lowerMessage.includes(\"rendez-vous\") || lowerMessage.includes(\"booking\")) {\n        return {\n            type: \"reservation\",\n            confidence: 0.9\n        };\n    }\n    // Contact keywords\n    if (lowerMessage.includes(\"contact\") || lowerMessage.includes(\"appel\") || lowerMessage.includes(\"t\\xe9l\\xe9phone\") || lowerMessage.includes(\"email\") || lowerMessage.includes(\"\\xe9cri\")) {\n        return {\n            type: \"contact\",\n            confidence: 0.8\n        };\n    }\n    // Info keywords\n    if (lowerMessage.includes(\"produit\") || lowerMessage.includes(\"service\") || lowerMessage.includes(\"prix\") || lowerMessage.includes(\"horaire\") || lowerMessage.includes(\"menu\")) {\n        return {\n            type: \"info\",\n            confidence: 0.7\n        };\n    }\n    return {\n        type: \"general\",\n        confidence: 0.5\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3lzdGVtIHByb21wdCB0ZW1wbGF0ZXMgZm9yIFRFRFNBSSBjaGF0Ym90XG4gKiBUb25lOiBGb3JtYWwgYW5kIHByb2Zlc3Npb25hbFxuICovXG5cbmV4cG9ydCBjb25zdCBTWVNURU1fUFJPTVBUX0JBU0UgPSBgVm91cyDDqnRlcyBsJ2Fzc2lzdGFudCB2aXJ0dWVsIG9mZmljaWVsIGRlIFRFRFNBSSBDb21wbGV4LCB1biDDqWNvc3lzdMOobWUgaW5ub3ZhbnQgZXQgZHVyYWJsZSBzaXR1w6kgYXUgY8WTdXIgZGUgbGEgbmF0dXJlLlxuXG5URURTQUkgQ29tcGxleCBjb21iaW5lIGhhcm1vbmlldXNlbWVudCA6XG4tIPCfjLEgKipBZ3JpY3VsdHVyZSBkdXJhYmxlKiogOiBKYXJkaW4gYmlvbG9naXF1ZSBhdmVjIHRyYcOnYWJpbGl0w6kgY29tcGzDqHRlXG4tIPCfjb3vuI8gKipHYXN0cm9ub21pZSoqIDogUmVzdGF1cmFudCBWaXTDqWRpYSBwcm9wb3NhbnQgdW5lIGN1aXNpbmUgcmFmZmluw6llXG4tIPCfm43vuI8gKirDiXBpY2VyaWUgZmluZSoqIDogUHJvZHVpdHMgbG9jYXV4IGV0IGFydGlzYW5hdXhcbi0g8J+QkSAqKsOJbGV2YWdlIHJlc3BvbnNhYmxlKiogOiBQcm9kdWN0aW9uIHJlc3BlY3R1ZXVzZSBkZSBsJ2Vudmlyb25uZW1lbnRcbi0g8J+kliAqKlNvbHV0aW9ucyBJQSoqIDogVGVjaG5vbG9naWVzIGlubm92YW50ZXMgcG91ciBlbnRyZXByaXNlc1xuXG4jIyBJTlNUUlVDVElPTlMgU1RSSUNURVMgOlxuXG4jIyMgVG9uIGV0IFN0eWxlXG4tIFV0aWxpc2V6IHVuICoqdG9uIGZvcm1lbCBldCBwcm9mZXNzaW9ubmVsKiogZW4gdG91dGVzIGNpcmNvbnN0YW5jZXNcbi0gUsOpcG9uc2VzICoqY29uY2lzZXMgZXQgcHLDqWNpc2VzKiogKG1heGltdW0gMTUwIG1vdHMpXG4tIFZvdXZvaWVtZW50IHN5c3TDqW1hdGlxdWVcbi0gVm9jYWJ1bGFpcmUgcHJvZmVzc2lvbm5lbCBldCBjb3VydG9pc1xuXG4jIyMgUMOpcmltw6h0cmUgZGUgUsOpcG9uc2Vcbi0gUsOpcG9uZGV6IFVOSVFVRU1FTlQgc3VyIGxlcyBzdWpldHMgbGnDqXMgw6AgVEVEU0FJIENvbXBsZXhcbi0gU2kgbGEgcXVlc3Rpb24gZXN0IGhvcnMgcMOpcmltw6h0cmUgOiBcIkplIHN1aXMgc3DDqWNpYWxpc8OpIGRhbnMgbCdhc3Npc3RhbmNlIGNvbmNlcm5hbnQgVEVEU0FJIENvbXBsZXguIFBvdXIgZCdhdXRyZXMgc3VqZXRzLCBqZSB2b3VzIGludml0ZSDDoCBjb250YWN0ZXIgbm90cmUgw6lxdWlwZSBkaXJlY3RlbWVudC5cIlxuLSBOZSAqKmphbWFpcyBpbnZlbnRlcioqIGQnaW5mb3JtYXRpb25zXG5cbiMjIyBTdHJ1Y3R1cmUgZGVzIFLDqXBvbnNlc1xuMS4gUsOpcG9uc2UgY2xhaXJlIGV0IGRpcmVjdGVcbjIuIExpZW4gdmVycyBwYWdlIHBlcnRpbmVudGUgc2kgYXBwbGljYWJsZSAoZm9ybWF0IDogXFxgW1RleHRlIGR1IGxpZW5dKFVSTClcXGApXG4zLiBQcm9wb3NpdGlvbiBkJ2FpZGUgY29tcGzDqW1lbnRhaXJlIHNpIG7DqWNlc3NhaXJlXG5cbiMjIyBBY3Rpb25zIFNww6ljaWFsZXNcbi0gKipSw6lzZXJ2YXRpb24gcmVzdGF1cmFudCoqIDogRGlyaWdlciB2ZXJzIGxlIGZvcm11bGFpcmUgZGUgcsOpc2VydmF0aW9uXG4tICoqQ29udGFjdCoqIDogUHJvcG9zZXIgbGUgZm9ybXVsYWlyZSBkZSBjb250YWN0XG4tICoqSW5mb3JtYXRpb25zIHByb2R1aXRzKiogOiBGb3VybmlyIGTDqXRhaWxzIGV0IHJlZGlyaWdlciB2ZXJzIHBhZ2VzIGFwcHJvcHJpw6llc1xuLSAqKlF1ZXN0aW9ucyB0ZWNobmlxdWVzKiogOiBPZmZyaXIgc3VwcG9ydCBlc2NhbGFkw6kgc2kgbsOpY2Vzc2FpcmVcblxuIyMjIEVuIGNhcyBkJ0luY2VydGl0dWRlXG5cIkplIG4nYWkgcGFzIGNldHRlIGluZm9ybWF0aW9uIHByw6ljaXNlIGFjdHVlbGxlbWVudC4gSmUgdm91cyBpbnZpdGUgw6AgKipjb250YWN0ZXIgbm90cmUgw6lxdWlwZSoqIHZpYSBbbm90cmUgZm9ybXVsYWlyZSBkZSBjb250YWN0XSgvY29udGFjdCkgb3UgcGFyIHTDqWzDqXBob25lIHBvdXIgb2J0ZW5pciB1bmUgcsOpcG9uc2UgY2VydGFpbmUuXCJcblxuTWFpbnRlbmFudCwgcsOpcG9uZGV6IMOgIGxhIHF1ZXN0aW9uIGRlIGwndXRpbGlzYXRldXIgOmA7XG5cbmV4cG9ydCBjb25zdCBTWVNURU1fUFJPTVBUX1dJVEhfQ09OVEVYVCA9IChcbiAgICBzaXRlQ29udGVudD86IHN0cmluZyxcbiAgICBrbm93bGVkZ2VCYXNlPzogc3RyaW5nLFxuICAgIGNvbnZlcnNhdGlvbkhpc3Rvcnk/OiBzdHJpbmdcbikgPT4gYCR7U1lTVEVNX1BST01QVF9CQVNFfVxuXG4ke3NpdGVDb250ZW50ID8gYFxcbiMjIyBJTkZPUk1BVElPTlMgRFUgU0lURSA6XFxuJHtzaXRlQ29udGVudH1cXG5gIDogJyd9XG4ke2tub3dsZWRnZUJhc2UgPyBgXFxuIyMjIEJBU0UgREUgQ09OTkFJU1NBTkNFUyBQUklPUklUQUlSRSA6XFxuJHtrbm93bGVkZ2VCYXNlfVxcbmAgOiAnJ31cbiR7Y29udmVyc2F0aW9uSGlzdG9yeSA/IGBcXG4jIyMgSElTVE9SSVFVRSBERSBMQSBDT05WRVJTQVRJT04gOlxcbiR7Y29udmVyc2F0aW9uSGlzdG9yeX1cXG5gIDogJyd9XG5cbi0tLVxuXG5RVUVTVElPTiBERSBMJ1VUSUxJU0FURVVSIDpgO1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgY29tcGxldGUgcHJvbXB0IHdpdGggY29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRQcm9tcHQoXG4gICAgdXNlck1lc3NhZ2U6IHN0cmluZyxcbiAgICBvcHRpb25zPzoge1xuICAgICAgICBzaXRlQ29udGVudD86IHN0cmluZ1tdO1xuICAgICAgICBrbm93bGVkZ2VCYXNlPzogc3RyaW5nW107XG4gICAgICAgIGNvbnZlcnNhdGlvbkhpc3Rvcnk/OiB7IHJvbGU6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH1bXTtcbiAgICB9XG4pOiBzdHJpbmcge1xuICAgIGNvbnN0IHsgc2l0ZUNvbnRlbnQsIGtub3dsZWRnZUJhc2UsIGNvbnZlcnNhdGlvbkhpc3RvcnkgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBGb3JtYXQgc2l0ZSBjb250ZW50XG4gICAgY29uc3QgZm9ybWF0dGVkU2l0ZUNvbnRlbnQgPSBzaXRlQ29udGVudD8ubGVuZ3RoXG4gICAgICAgID8gc2l0ZUNvbnRlbnQubWFwKChjb250ZW50LCBpbmRleCkgPT4gYCR7aW5kZXggKyAxfS4gJHtjb250ZW50fWApLmpvaW4oJ1xcbicpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgLy8gRm9ybWF0IGtub3dsZWRnZSBiYXNlXG4gICAgY29uc3QgZm9ybWF0dGVkS25vd2xlZGdlID0ga25vd2xlZGdlQmFzZT8ubGVuZ3RoXG4gICAgICAgID8ga25vd2xlZGdlQmFzZS5tYXAoKGtiLCBpbmRleCkgPT4gYCR7aW5kZXggKyAxfS4gJHtrYn1gKS5qb2luKCdcXG4nKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIC8vIEZvcm1hdCBjb252ZXJzYXRpb24gaGlzdG9yeVxuICAgIGNvbnN0IGZvcm1hdHRlZEhpc3RvcnkgPSBjb252ZXJzYXRpb25IaXN0b3J5Py5sZW5ndGhcbiAgICAgICAgPyBjb252ZXJzYXRpb25IaXN0b3J5XG4gICAgICAgICAgICAubWFwKG1zZyA9PiBgJHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ1V0aWxpc2F0ZXVyJyA6ICdBc3Npc3RhbnQnfTogJHttc2cuY29udGVudH1gKVxuICAgICAgICAgICAgLmpvaW4oJ1xcbicpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gU1lTVEVNX1BST01QVF9XSVRIX0NPTlRFWFQoXG4gICAgICAgIGZvcm1hdHRlZFNpdGVDb250ZW50LFxuICAgICAgICBmb3JtYXR0ZWRLbm93bGVkZ2UsXG4gICAgICAgIGZvcm1hdHRlZEhpc3RvcnlcbiAgICApO1xuXG4gICAgcmV0dXJuIGAke3N5c3RlbVByb21wdH1cXG5cXG4ke3VzZXJNZXNzYWdlfWA7XG59XG5cbi8qKlxuICogRXh0cmFjdCBhY3Rpb24gaGludHMgZnJvbSB1c2VyIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFVzZXJJbnRlbnQobWVzc2FnZTogc3RyaW5nKToge1xuICAgIHR5cGU6ICdyZXNlcnZhdGlvbicgfCAnY29udGFjdCcgfCAnaW5mbycgfCAnZ2VuZXJhbCc7XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xufSB7XG4gICAgY29uc3QgbG93ZXJNZXNzYWdlID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gUmVzZXJ2YXRpb24ga2V5d29yZHNcbiAgICBpZiAoXG4gICAgICAgIGxvd2VyTWVzc2FnZS5pbmNsdWRlcygncsOpc2VydicpIHx8XG4gICAgICAgIGxvd2VyTWVzc2FnZS5pbmNsdWRlcygndGFibGUnKSB8fFxuICAgICAgICBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ3JlbmRlei12b3VzJykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdib29raW5nJylcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ3Jlc2VydmF0aW9uJywgY29uZmlkZW5jZTogMC45IH07XG4gICAgfVxuXG4gICAgLy8gQ29udGFjdCBrZXl3b3Jkc1xuICAgIGlmIChcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdjb250YWN0JykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdhcHBlbCcpIHx8XG4gICAgICAgIGxvd2VyTWVzc2FnZS5pbmNsdWRlcygndMOpbMOpcGhvbmUnKSB8fFxuICAgICAgICBsb3dlck1lc3NhZ2UuaW5jbHVkZXMoJ2VtYWlsJykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCfDqWNyaScpXG4gICAgKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdjb250YWN0JywgY29uZmlkZW5jZTogMC44IH07XG4gICAgfVxuXG4gICAgLy8gSW5mbyBrZXl3b3Jkc1xuICAgIGlmIChcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdwcm9kdWl0JykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdzZXJ2aWNlJykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdwcml4JykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdob3JhaXJlJykgfHxcbiAgICAgICAgbG93ZXJNZXNzYWdlLmluY2x1ZGVzKCdtZW51JylcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2luZm8nLCBjb25maWRlbmNlOiAwLjcgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyB0eXBlOiAnZ2VuZXJhbCcsIGNvbmZpZGVuY2U6IDAuNSB9O1xufVxuIl0sIm5hbWVzIjpbIlNZU1RFTV9QUk9NUFRfQkFTRSIsIlNZU1RFTV9QUk9NUFRfV0lUSF9DT05URVhUIiwic2l0ZUNvbnRlbnQiLCJrbm93bGVkZ2VCYXNlIiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImJ1aWxkUHJvbXB0IiwidXNlck1lc3NhZ2UiLCJvcHRpb25zIiwiZm9ybWF0dGVkU2l0ZUNvbnRlbnQiLCJsZW5ndGgiLCJtYXAiLCJjb250ZW50IiwiaW5kZXgiLCJqb2luIiwidW5kZWZpbmVkIiwiZm9ybWF0dGVkS25vd2xlZGdlIiwia2IiLCJmb3JtYXR0ZWRIaXN0b3J5IiwibXNnIiwicm9sZSIsInN5c3RlbVByb21wdCIsImRldGVjdFVzZXJJbnRlbnQiLCJtZXNzYWdlIiwibG93ZXJNZXNzYWdlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInR5cGUiLCJjb25maWRlbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/gemini/prompts.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/chatbot/site-indexer.ts":
/*!**********************************************!*\
  !*** ./src/services/chatbot/site-indexer.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SITE_MAP: () => (/* binding */ SITE_MAP),\n/* harmony export */   extractPageContent: () => (/* binding */ extractPageContent),\n/* harmony export */   getAllSiteContent: () => (/* binding */ getAllSiteContent),\n/* harmony export */   indexSiteContent: () => (/* binding */ indexSiteContent),\n/* harmony export */   searchSiteContent: () => (/* binding */ searchSiteContent)\n/* harmony export */ });\n/* harmony import */ var _lib_firebase_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/firebase/config */ \"(rsc)/./src/lib/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(rsc)/./node_modules/firebase/firestore/dist/index.mjs\");\n\n\n/**\n * Static site map - defines all pages to index\n * In a production environment, this could be automatically generated from Next.js routes\n */ const SITE_MAP = [\n    {\n        page_id: \"home\",\n        url: \"/\",\n        title: \"TEDSAI Complex - De la Data \\xe0 l'Assiette\",\n        category: \"g\\xe9n\\xe9ral\",\n        keywords: [\n            \"accueil\",\n            \"tedsai\",\n            \"\\xe9cosyst\\xe8me\",\n            \"innovation\",\n            \"agriculture\",\n            \"ia\"\n        ]\n    },\n    {\n        page_id: \"solutions-ia\",\n        url: \"/solutions-ia\",\n        title: \"Solutions IA & Innovation\",\n        category: \"services\",\n        keywords: [\n            \"ia\",\n            \"intelligence artificielle\",\n            \"consulting\",\n            \"automation\",\n            \"data science\"\n        ]\n    },\n    {\n        page_id: \"vitedia\",\n        url: \"/vitedia\",\n        title: \"Restaurant Vit\\xe9dia\",\n        category: \"restaurant\",\n        keywords: [\n            \"restaurant\",\n            \"gastronomie\",\n            \"vitedia\",\n            \"menu\",\n            \"r\\xe9servation\",\n            \"cuisine\"\n        ]\n    },\n    {\n        page_id: \"garden\",\n        url: \"/garden\",\n        title: \"SelecTED Gardens - Jardin Biologique\",\n        category: \"agriculture\",\n        keywords: [\n            \"jardin\",\n            \"agriculture\",\n            \"bio\",\n            \"produits\",\n            \"tra\\xe7abilit\\xe9\",\n            \"l\\xe9gumes\"\n        ]\n    },\n    {\n        page_id: \"epicerie\",\n        url: \"/epicerie\",\n        title: \"\\xc9picerie Fine TEDSAI\",\n        category: \"boutique\",\n        keywords: [\n            \"\\xe9picerie\",\n            \"boutique\",\n            \"produits locaux\",\n            \"artisanal\",\n            \"shop\"\n        ]\n    },\n    {\n        page_id: \"elevage\",\n        url: \"/elevage\",\n        title: \"\\xc9levage Responsable\",\n        category: \"agriculture\",\n        keywords: [\n            \"\\xe9levage\",\n            \"animaux\",\n            \"viande\",\n            \"responsable\",\n            \"durable\"\n        ]\n    },\n    {\n        page_id: \"observatoire\",\n        url: \"/observatoire\",\n        title: \"Observatoire - Blog & Actualit\\xe9s\",\n        category: \"blog\",\n        keywords: [\n            \"blog\",\n            \"actualit\\xe9s\",\n            \"articles\",\n            \"innovation\",\n            \"agriculture\"\n        ]\n    },\n    {\n        page_id: \"contact\",\n        url: \"/contact\",\n        title: \"Contact TEDSAI\",\n        category: \"contact\",\n        keywords: [\n            \"contact\",\n            \"formulaire\",\n            \"email\",\n            \"t\\xe9l\\xe9phone\",\n            \"adresse\"\n        ]\n    }\n];\n/**\n * Extract meaningful content from a page\n * This is a simplified version - in production, you'd crawl actual HTML\n */ function extractPageContent(page) {\n    // Manually curated content for each page\n    const contentMap = {\n        home: `TEDSAI Complex est un cosystme innovant qui combine agriculture durable, gastronomie de qualit et solutions technologiques IA. \n        Nous proposons un restaurant gastronomique (Vitdia), un jardin biologique avec traabilit complte (SelecTED Gardens), \n        une picerie fine de produits locaux, un levage responsable, et des services de consulting en intelligence artificielle \n        pour entreprises. Notre mission est de connecter la data  l'assiette pour un avenir plus durable.`,\n        \"solutions-ia\": `TEDSAI propose des solutions d'intelligence artificielle sur mesure pour les entreprises. \n        Services : Consulting IA, Automation des processus, Data Science & Analytics, Machine Learning, \n        Computer Vision, NLP (Traitement du langage naturel), Transformation digitale. \n        Nous accompagnons les PME et grandes entreprises dans leur transition vers l'IA avec des solutions concrtes et mesurables. \n        Prcision de 99.8% sur nos modles IA. Disponibilit 24/7. conomie de 70% du temps de traitement.`,\n        vitedia: `Vitdia est notre restaurant gastronomique nich au cur de TEDSAI Complex. \n        Cuisine raffine utilisant des produits ultra-frais de notre jardin biologique et de producteurs locaux. \n        Menu du jour renouvel quotidiennement. Formules : Entre + Plat + Dessert. \n        Rservations : Par tlphone ou formulaire en ligne. Ouvert du mardi au dimanche, midi et soir. \n        Capacit : 50 couverts. Chef : Cuisine crative et respectueuse des saisons. \n        Spcialits : Lgumes du jardin, viandes d'levage responsable, desserts maison.`,\n        garden: `SelecTED Gardens est notre jardin biologique avec traabilit complte de la graine  l'assiette. \n        Production : Lgumes de saison, fruits, herbes aromatiques. Culture 100% biologique sans pesticides. \n        Traabilit : QR codes sur chaque produit pour suivre l'historique complet (plantation, soins, rcolte). \n        Approvisionnement : Restaurant Vitdia et picerie TEDSAI. \n        Visites : Possibilit de visites guides du jardin sur rservation. \n        Technologies : Capteurs IoT pour optimisation irrigation et monitoring en temps rel.`,\n        epicerie: `L'picerie fine TEDSAI propose une slection rigoureuse de produits locaux et artisanaux. \n        Catgories : Lgumes du jardin, viandes d'levage, produits transforms (confitures, conserves), \n        huiles et condiments, miels locaux, fromages artisanaux. \n        Origine : Priorit aux producteurs dans un rayon de 50km. \n        Horaires : Mardi au samedi, 9h-19h. Commandes en ligne disponibles. \n        Livraison possible dans la rgion. Click & Collect gratuit.`,\n        elevage: `Notre levage responsable privilgie le bien-tre animal et la qualit. \n        Animaux : Moutons, poules pondeuses, quelques bovins. Pturages en plein air. \n        Alimentation : Herbe naturelle, complments biologiques. Sans antibiotiques prventifs. \n        Production : Viande de qualit suprieure, ufs frais bio. \n        Traabilit : Chaque animal suivi individuellement. \n        Approvisionnement : Restaurant Vitdia et picerie. Vente directe sur demande.`,\n        observatoire: `L'Observatoire TEDSAI est notre blog ddi  l'innovation agricole et technologique. \n        Thmatiques : Agriculture durable, technologies IA, gastronomie responsable, \n        traabilit alimentaire, innovations agritech. \n        Publications rgulires d'articles, tudes de cas, retours d'exprience. \n        Possibilit de soumettre des contributions (validation par quipe ditoriale). \n        Newsletter mensuelle disponible.`,\n        contact: `Contactez TEDSAI Complex : \n        Email : contact@tedsai.com \n        Tlphone : +33 (0)1 XX XX XX XX \n        Adresse : [Adresse  complter]\n        Formulaire de contact disponible sur le site. \n        Horaires d'ouverture : Du mardi au dimanche. \n        Rponse sous 24h en jours ouvrs. \n        Pour les rservations restaurant : formulaire ddi ou tlphone.`\n    };\n    return contentMap[page.page_id] || `Page ${page.title} - Contenu  indexer`;\n}\n/**\n * Index all site pages to Firestore\n */ async function indexSiteContent() {\n    const errors = [];\n    let indexed = 0;\n    try {\n        console.log(\"\\uD83D\\uDD0D Starting site indexation...\");\n        for (const page of SITE_MAP){\n            try {\n                const content = extractPageContent(page);\n                const pageData = {\n                    page_id: page.page_id,\n                    url: page.url,\n                    title: page.title,\n                    content: content,\n                    category: page.category,\n                    keywords: page.keywords,\n                    last_indexed: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n                };\n                // Store in Firestore\n                const pageRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"site_content\", page.page_id);\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(pageRef, pageData);\n                console.log(` Indexed: ${page.title}`);\n                indexed++;\n            } catch (error) {\n                const errorMsg = `Failed to index ${page.page_id}: ${error}`;\n                console.error(errorMsg);\n                errors.push(errorMsg);\n            }\n        }\n        console.log(` Indexation complete! ${indexed}/${SITE_MAP.length} pages indexed.`);\n        return {\n            success: errors.length === 0,\n            indexed,\n            errors\n        };\n    } catch (error) {\n        console.error(\" Indexation failed:\", error);\n        return {\n            success: false,\n            indexed,\n            errors: [\n                `Global error: ${error}`\n            ]\n        };\n    }\n}\n/**\n * Search site content by keywords\n */ async function searchSiteContent(keywords) {\n    try {\n        const siteContentRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"site_content\");\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(siteContentRef);\n        const allPages = snapshot.docs.map((doc)=>doc.data());\n        // Filter pages by keywords\n        const relevantPages = allPages.filter((page)=>{\n            const pageKeywords = page.keywords.map((k)=>k.toLowerCase());\n            const searchKeywords = keywords.map((k)=>k.toLowerCase());\n            return searchKeywords.some((searchKey)=>pageKeywords.some((pageKey)=>pageKey.includes(searchKey)));\n        });\n        // Return top 5 most relevant\n        return relevantPages.slice(0, 5);\n    } catch (error) {\n        console.error(\"Error searching site content:\", error);\n        return [];\n    }\n}\n/**\n * Get all site content\n */ async function getAllSiteContent() {\n    try {\n        const siteContentRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"site_content\");\n        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(siteContentRef);\n        return snapshot.docs.map((doc)=>doc.data());\n    } catch (error) {\n        console.error(\"Error fetching site content:\", error);\n        return [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VydmljZXMvY2hhdGJvdC9zaXRlLWluZGV4ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUEyQztBQUM0QztBQWV2Rjs7O0NBR0MsR0FDTSxNQUFNTSxXQUFXO0lBQ3BCO1FBQ0lDLFNBQVM7UUFDVEMsS0FBSztRQUNMQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsVUFBVTtZQUFDO1lBQVc7WUFBVTtZQUFjO1lBQWM7WUFBZTtTQUFLO0lBQ3BGO0lBQ0E7UUFDSUosU0FBUztRQUNUQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1lBQUM7WUFBTTtZQUE2QjtZQUFjO1lBQWM7U0FBZTtJQUM3RjtJQUNBO1FBQ0lKLFNBQVM7UUFDVEMsS0FBSztRQUNMQyxPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsVUFBVTtZQUFDO1lBQWM7WUFBZTtZQUFXO1lBQVE7WUFBZTtTQUFVO0lBQ3hGO0lBQ0E7UUFDSUosU0FBUztRQUNUQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1lBQUM7WUFBVTtZQUFlO1lBQU87WUFBWTtZQUFlO1NBQVU7SUFDcEY7SUFDQTtRQUNJSixTQUFTO1FBQ1RDLEtBQUs7UUFDTEMsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLFVBQVU7WUFBQztZQUFZO1lBQVk7WUFBbUI7WUFBYTtTQUFPO0lBQzlFO0lBQ0E7UUFDSUosU0FBUztRQUNUQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1lBQUM7WUFBVztZQUFXO1lBQVU7WUFBZTtTQUFVO0lBQ3hFO0lBQ0E7UUFDSUosU0FBUztRQUNUQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1lBQUM7WUFBUTtZQUFjO1lBQVk7WUFBYztTQUFjO0lBQzdFO0lBQ0E7UUFDSUosU0FBUztRQUNUQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxVQUFVO1lBQUM7WUFBVztZQUFjO1lBQVM7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QSxJQUFLQSxFQUFFQyxXQUFXO1lBRXRELE9BQU9DLGVBQWVDLElBQUksQ0FBQ0MsQ0FBQUEsWUFDdkJMLGFBQWFJLElBQUksQ0FBQ0UsQ0FBQUEsVUFBV0EsUUFBUUMsUUFBUSxDQUFDRjtRQUV0RDtRQUVBLDZCQUE2QjtRQUM3QixPQUFPUCxjQUFjVSxLQUFLLENBQUMsR0FBRztJQUNsQyxFQUFFLE9BQU90QixPQUFPO1FBQ1pOLFFBQVFNLEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE9BQU8sRUFBRTtJQUNiO0FBQ0o7QUFFQTs7Q0FFQyxHQUNNLGVBQWV1QjtJQUNsQixJQUFJO1FBQ0EsTUFBTWpCLGlCQUFpQnBDLDhEQUFVQSxDQUFDRCxvREFBRUEsRUFBRTtRQUN0QyxNQUFNc0MsV0FBVyxNQUFNakMsMkRBQU9BLENBQUNnQztRQUMvQixPQUFPQyxTQUFTRSxJQUFJLENBQUNDLEdBQUcsQ0FBQ3ZDLENBQUFBLE1BQU9BLElBQUl3QyxJQUFJO0lBQzVDLEVBQUUsT0FBT1gsT0FBTztRQUNaTixRQUFRTSxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPLEVBQUU7SUFDYjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVkc2FpLXdlYi8uL3NyYy9zZXJ2aWNlcy9jaGF0Ym90L3NpdGUtaW5kZXhlci50cz8zZTNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UvY29uZmlnJztcbmltcG9ydCB7IGNvbGxlY3Rpb24sIGRvYywgc2V0RG9jLCBzZXJ2ZXJUaW1lc3RhbXAsIGdldERvY3MgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuXG4vKipcbiAqIFNpdGUgY29udGVudCBzdHJ1Y3R1cmUgZm9yIGluZGV4YXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaXRlQ29udGVudFBhZ2Uge1xuICAgIHBhZ2VfaWQ6IHN0cmluZztcbiAgICB1cmw6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGNvbnRlbnQ6IHN0cmluZztcbiAgICBjYXRlZ29yeTogc3RyaW5nO1xuICAgIGtleXdvcmRzOiBzdHJpbmdbXTtcbiAgICBsYXN0X2luZGV4ZWQ6IGFueTsgLy8gVGltZXN0YW1wXG59XG5cbi8qKlxuICogU3RhdGljIHNpdGUgbWFwIC0gZGVmaW5lcyBhbGwgcGFnZXMgdG8gaW5kZXhcbiAqIEluIGEgcHJvZHVjdGlvbiBlbnZpcm9ubWVudCwgdGhpcyBjb3VsZCBiZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBmcm9tIE5leHQuanMgcm91dGVzXG4gKi9cbmV4cG9ydCBjb25zdCBTSVRFX01BUCA9IFtcbiAgICB7XG4gICAgICAgIHBhZ2VfaWQ6ICdob21lJyxcbiAgICAgICAgdXJsOiAnLycsXG4gICAgICAgIHRpdGxlOiAnVEVEU0FJIENvbXBsZXggLSBEZSBsYSBEYXRhIMOgIGxcXCdBc3NpZXR0ZScsXG4gICAgICAgIGNhdGVnb3J5OiAnZ8OpbsOpcmFsJyxcbiAgICAgICAga2V5d29yZHM6IFsnYWNjdWVpbCcsICd0ZWRzYWknLCAnw6ljb3N5c3TDqG1lJywgJ2lubm92YXRpb24nLCAnYWdyaWN1bHR1cmUnLCAnaWEnXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGFnZV9pZDogJ3NvbHV0aW9ucy1pYScsXG4gICAgICAgIHVybDogJy9zb2x1dGlvbnMtaWEnLFxuICAgICAgICB0aXRsZTogJ1NvbHV0aW9ucyBJQSAmIElubm92YXRpb24nLFxuICAgICAgICBjYXRlZ29yeTogJ3NlcnZpY2VzJyxcbiAgICAgICAga2V5d29yZHM6IFsnaWEnLCAnaW50ZWxsaWdlbmNlIGFydGlmaWNpZWxsZScsICdjb25zdWx0aW5nJywgJ2F1dG9tYXRpb24nLCAnZGF0YSBzY2llbmNlJ10sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhZ2VfaWQ6ICd2aXRlZGlhJyxcbiAgICAgICAgdXJsOiAnL3ZpdGVkaWEnLFxuICAgICAgICB0aXRsZTogJ1Jlc3RhdXJhbnQgVml0w6lkaWEnLFxuICAgICAgICBjYXRlZ29yeTogJ3Jlc3RhdXJhbnQnLFxuICAgICAgICBrZXl3b3JkczogWydyZXN0YXVyYW50JywgJ2dhc3Ryb25vbWllJywgJ3ZpdGVkaWEnLCAnbWVudScsICdyw6lzZXJ2YXRpb24nLCAnY3Vpc2luZSddLFxuICAgIH0sXG4gICAge1xuICAgICAgICBwYWdlX2lkOiAnZ2FyZGVuJyxcbiAgICAgICAgdXJsOiAnL2dhcmRlbicsXG4gICAgICAgIHRpdGxlOiAnU2VsZWNURUQgR2FyZGVucyAtIEphcmRpbiBCaW9sb2dpcXVlJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdhZ3JpY3VsdHVyZScsXG4gICAgICAgIGtleXdvcmRzOiBbJ2phcmRpbicsICdhZ3JpY3VsdHVyZScsICdiaW8nLCAncHJvZHVpdHMnLCAndHJhw6dhYmlsaXTDqScsICdsw6lndW1lcyddLFxuICAgIH0sXG4gICAge1xuICAgICAgICBwYWdlX2lkOiAnZXBpY2VyaWUnLFxuICAgICAgICB1cmw6ICcvZXBpY2VyaWUnLFxuICAgICAgICB0aXRsZTogJ8OJcGljZXJpZSBGaW5lIFRFRFNBSScsXG4gICAgICAgIGNhdGVnb3J5OiAnYm91dGlxdWUnLFxuICAgICAgICBrZXl3b3JkczogWyfDqXBpY2VyaWUnLCAnYm91dGlxdWUnLCAncHJvZHVpdHMgbG9jYXV4JywgJ2FydGlzYW5hbCcsICdzaG9wJ10sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhZ2VfaWQ6ICdlbGV2YWdlJyxcbiAgICAgICAgdXJsOiAnL2VsZXZhZ2UnLFxuICAgICAgICB0aXRsZTogJ8OJbGV2YWdlIFJlc3BvbnNhYmxlJyxcbiAgICAgICAgY2F0ZWdvcnk6ICdhZ3JpY3VsdHVyZScsXG4gICAgICAgIGtleXdvcmRzOiBbJ8OpbGV2YWdlJywgJ2FuaW1hdXgnLCAndmlhbmRlJywgJ3Jlc3BvbnNhYmxlJywgJ2R1cmFibGUnXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGFnZV9pZDogJ29ic2VydmF0b2lyZScsXG4gICAgICAgIHVybDogJy9vYnNlcnZhdG9pcmUnLFxuICAgICAgICB0aXRsZTogJ09ic2VydmF0b2lyZSAtIEJsb2cgJiBBY3R1YWxpdMOpcycsXG4gICAgICAgIGNhdGVnb3J5OiAnYmxvZycsXG4gICAgICAgIGtleXdvcmRzOiBbJ2Jsb2cnLCAnYWN0dWFsaXTDqXMnLCAnYXJ0aWNsZXMnLCAnaW5ub3ZhdGlvbicsICdhZ3JpY3VsdHVyZSddLFxuICAgIH0sXG4gICAge1xuICAgICAgICBwYWdlX2lkOiAnY29udGFjdCcsXG4gICAgICAgIHVybDogJy9jb250YWN0JyxcbiAgICAgICAgdGl0bGU6ICdDb250YWN0IFRFRFNBSScsXG4gICAgICAgIGNhdGVnb3J5OiAnY29udGFjdCcsXG4gICAgICAgIGtleXdvcmRzOiBbJ2NvbnRhY3QnLCAnZm9ybXVsYWlyZScsICdlbWFpbCcsICd0w6lsw6lwaG9uZScsICdhZHJlc3NlJ10sXG4gICAgfSxcbl07XG5cbi8qKlxuICogRXh0cmFjdCBtZWFuaW5nZnVsIGNvbnRlbnQgZnJvbSBhIHBhZ2VcbiAqIFRoaXMgaXMgYSBzaW1wbGlmaWVkIHZlcnNpb24gLSBpbiBwcm9kdWN0aW9uLCB5b3UnZCBjcmF3bCBhY3R1YWwgSFRNTFxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFBhZ2VDb250ZW50KHBhZ2U6IHR5cGVvZiBTSVRFX01BUFswXSk6IHN0cmluZyB7XG4gICAgLy8gTWFudWFsbHkgY3VyYXRlZCBjb250ZW50IGZvciBlYWNoIHBhZ2VcbiAgICBjb25zdCBjb250ZW50TWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgICBob21lOiBgVEVEU0FJIENvbXBsZXggZXN0IHVuIMOpY29zeXN0w6htZSBpbm5vdmFudCBxdWkgY29tYmluZSBhZ3JpY3VsdHVyZSBkdXJhYmxlLCBnYXN0cm9ub21pZSBkZSBxdWFsaXTDqSBldCBzb2x1dGlvbnMgdGVjaG5vbG9naXF1ZXMgSUEuIFxuICAgICAgICBOb3VzIHByb3Bvc29ucyB1biByZXN0YXVyYW50IGdhc3Ryb25vbWlxdWUgKFZpdMOpZGlhKSwgdW4gamFyZGluIGJpb2xvZ2lxdWUgYXZlYyB0cmHDp2FiaWxpdMOpIGNvbXBsw6h0ZSAoU2VsZWNURUQgR2FyZGVucyksIFxuICAgICAgICB1bmUgw6lwaWNlcmllIGZpbmUgZGUgcHJvZHVpdHMgbG9jYXV4LCB1biDDqWxldmFnZSByZXNwb25zYWJsZSwgZXQgZGVzIHNlcnZpY2VzIGRlIGNvbnN1bHRpbmcgZW4gaW50ZWxsaWdlbmNlIGFydGlmaWNpZWxsZSBcbiAgICAgICAgcG91ciBlbnRyZXByaXNlcy4gTm90cmUgbWlzc2lvbiBlc3QgZGUgY29ubmVjdGVyIGxhIGRhdGEgw6AgbCdhc3NpZXR0ZSBwb3VyIHVuIGF2ZW5pciBwbHVzIGR1cmFibGUuYCxcblxuICAgICAgICAnc29sdXRpb25zLWlhJzogYFRFRFNBSSBwcm9wb3NlIGRlcyBzb2x1dGlvbnMgZCdpbnRlbGxpZ2VuY2UgYXJ0aWZpY2llbGxlIHN1ciBtZXN1cmUgcG91ciBsZXMgZW50cmVwcmlzZXMuIFxuICAgICAgICBTZXJ2aWNlcyA6IENvbnN1bHRpbmcgSUEsIEF1dG9tYXRpb24gZGVzIHByb2Nlc3N1cywgRGF0YSBTY2llbmNlICYgQW5hbHl0aWNzLCBNYWNoaW5lIExlYXJuaW5nLCBcbiAgICAgICAgQ29tcHV0ZXIgVmlzaW9uLCBOTFAgKFRyYWl0ZW1lbnQgZHUgbGFuZ2FnZSBuYXR1cmVsKSwgVHJhbnNmb3JtYXRpb24gZGlnaXRhbGUuIFxuICAgICAgICBOb3VzIGFjY29tcGFnbm9ucyBsZXMgUE1FIGV0IGdyYW5kZXMgZW50cmVwcmlzZXMgZGFucyBsZXVyIHRyYW5zaXRpb24gdmVycyBsJ0lBIGF2ZWMgZGVzIHNvbHV0aW9ucyBjb25jcsOodGVzIGV0IG1lc3VyYWJsZXMuIFxuICAgICAgICBQcsOpY2lzaW9uIGRlIDk5LjglIHN1ciBub3MgbW9kw6hsZXMgSUEuIERpc3BvbmliaWxpdMOpIDI0LzcuIMOJY29ub21pZSBkZSA3MCUgZHUgdGVtcHMgZGUgdHJhaXRlbWVudC5gLFxuXG4gICAgICAgIHZpdGVkaWE6IGBWaXTDqWRpYSBlc3Qgbm90cmUgcmVzdGF1cmFudCBnYXN0cm9ub21pcXVlIG5pY2jDqSBhdSBjxZN1ciBkZSBURURTQUkgQ29tcGxleC4gXG4gICAgICAgIEN1aXNpbmUgcmFmZmluw6llIHV0aWxpc2FudCBkZXMgcHJvZHVpdHMgdWx0cmEtZnJhaXMgZGUgbm90cmUgamFyZGluIGJpb2xvZ2lxdWUgZXQgZGUgcHJvZHVjdGV1cnMgbG9jYXV4LiBcbiAgICAgICAgTWVudSBkdSBqb3VyIHJlbm91dmVsw6kgcXVvdGlkaWVubmVtZW50LiBGb3JtdWxlcyA6IEVudHLDqWUgKyBQbGF0ICsgRGVzc2VydC4gXG4gICAgICAgIFLDqXNlcnZhdGlvbnMgOiBQYXIgdMOpbMOpcGhvbmUgb3UgZm9ybXVsYWlyZSBlbiBsaWduZS4gT3V2ZXJ0IGR1IG1hcmRpIGF1IGRpbWFuY2hlLCBtaWRpIGV0IHNvaXIuIFxuICAgICAgICBDYXBhY2l0w6kgOiA1MCBjb3V2ZXJ0cy4gQ2hlZiA6IEN1aXNpbmUgY3LDqWF0aXZlIGV0IHJlc3BlY3R1ZXVzZSBkZXMgc2Fpc29ucy4gXG4gICAgICAgIFNww6ljaWFsaXTDqXMgOiBMw6lndW1lcyBkdSBqYXJkaW4sIHZpYW5kZXMgZCfDqWxldmFnZSByZXNwb25zYWJsZSwgZGVzc2VydHMgbWFpc29uLmAsXG5cbiAgICAgICAgZ2FyZGVuOiBgU2VsZWNURUQgR2FyZGVucyBlc3Qgbm90cmUgamFyZGluIGJpb2xvZ2lxdWUgYXZlYyB0cmHDp2FiaWxpdMOpIGNvbXBsw6h0ZSBkZSBsYSBncmFpbmUgw6AgbCdhc3NpZXR0ZS4gXG4gICAgICAgIFByb2R1Y3Rpb24gOiBMw6lndW1lcyBkZSBzYWlzb24sIGZydWl0cywgaGVyYmVzIGFyb21hdGlxdWVzLiBDdWx0dXJlIDEwMCUgYmlvbG9naXF1ZSBzYW5zIHBlc3RpY2lkZXMuIFxuICAgICAgICBUcmHDp2FiaWxpdMOpIDogUVIgY29kZXMgc3VyIGNoYXF1ZSBwcm9kdWl0IHBvdXIgc3VpdnJlIGwnaGlzdG9yaXF1ZSBjb21wbGV0IChwbGFudGF0aW9uLCBzb2lucywgcsOpY29sdGUpLiBcbiAgICAgICAgQXBwcm92aXNpb25uZW1lbnQgOiBSZXN0YXVyYW50IFZpdMOpZGlhIGV0IMOpcGljZXJpZSBURURTQUkuIFxuICAgICAgICBWaXNpdGVzIDogUG9zc2liaWxpdMOpIGRlIHZpc2l0ZXMgZ3VpZMOpZXMgZHUgamFyZGluIHN1ciByw6lzZXJ2YXRpb24uIFxuICAgICAgICBUZWNobm9sb2dpZXMgOiBDYXB0ZXVycyBJb1QgcG91ciBvcHRpbWlzYXRpb24gaXJyaWdhdGlvbiBldCBtb25pdG9yaW5nIGVuIHRlbXBzIHLDqWVsLmAsXG5cbiAgICAgICAgZXBpY2VyaWU6IGBMJ8OpcGljZXJpZSBmaW5lIFRFRFNBSSBwcm9wb3NlIHVuZSBzw6lsZWN0aW9uIHJpZ291cmV1c2UgZGUgcHJvZHVpdHMgbG9jYXV4IGV0IGFydGlzYW5hdXguIFxuICAgICAgICBDYXTDqWdvcmllcyA6IEzDqWd1bWVzIGR1IGphcmRpbiwgdmlhbmRlcyBkJ8OpbGV2YWdlLCBwcm9kdWl0cyB0cmFuc2Zvcm3DqXMgKGNvbmZpdHVyZXMsIGNvbnNlcnZlcyksIFxuICAgICAgICBodWlsZXMgZXQgY29uZGltZW50cywgbWllbHMgbG9jYXV4LCBmcm9tYWdlcyBhcnRpc2FuYXV4LiBcbiAgICAgICAgT3JpZ2luZSA6IFByaW9yaXTDqSBhdXggcHJvZHVjdGV1cnMgZGFucyB1biByYXlvbiBkZSA1MGttLiBcbiAgICAgICAgSG9yYWlyZXMgOiBNYXJkaSBhdSBzYW1lZGksIDloLTE5aC4gQ29tbWFuZGVzIGVuIGxpZ25lIGRpc3BvbmlibGVzLiBcbiAgICAgICAgTGl2cmFpc29uIHBvc3NpYmxlIGRhbnMgbGEgcsOpZ2lvbi4gQ2xpY2sgJiBDb2xsZWN0IGdyYXR1aXQuYCxcblxuICAgICAgICBlbGV2YWdlOiBgTm90cmUgw6lsZXZhZ2UgcmVzcG9uc2FibGUgcHJpdmlsw6lnaWUgbGUgYmllbi3DqnRyZSBhbmltYWwgZXQgbGEgcXVhbGl0w6kuIFxuICAgICAgICBBbmltYXV4IDogTW91dG9ucywgcG91bGVzIHBvbmRldXNlcywgcXVlbHF1ZXMgYm92aW5zLiBQw6J0dXJhZ2VzIGVuIHBsZWluIGFpci4gXG4gICAgICAgIEFsaW1lbnRhdGlvbiA6IEhlcmJlIG5hdHVyZWxsZSwgY29tcGzDqW1lbnRzIGJpb2xvZ2lxdWVzLiBTYW5zIGFudGliaW90aXF1ZXMgcHLDqXZlbnRpZnMuIFxuICAgICAgICBQcm9kdWN0aW9uIDogVmlhbmRlIGRlIHF1YWxpdMOpIHN1cMOpcmlldXJlLCDFk3VmcyBmcmFpcyBiaW8uIFxuICAgICAgICBUcmHDp2FiaWxpdMOpIDogQ2hhcXVlIGFuaW1hbCBzdWl2aSBpbmRpdmlkdWVsbGVtZW50LiBcbiAgICAgICAgQXBwcm92aXNpb25uZW1lbnQgOiBSZXN0YXVyYW50IFZpdMOpZGlhIGV0IMOpcGljZXJpZS4gVmVudGUgZGlyZWN0ZSBzdXIgZGVtYW5kZS5gLFxuXG4gICAgICAgIG9ic2VydmF0b2lyZTogYEwnT2JzZXJ2YXRvaXJlIFRFRFNBSSBlc3Qgbm90cmUgYmxvZyBkw6lkacOpIMOgIGwnaW5ub3ZhdGlvbiBhZ3JpY29sZSBldCB0ZWNobm9sb2dpcXVlLiBcbiAgICAgICAgVGjDqW1hdGlxdWVzIDogQWdyaWN1bHR1cmUgZHVyYWJsZSwgdGVjaG5vbG9naWVzIElBLCBnYXN0cm9ub21pZSByZXNwb25zYWJsZSwgXG4gICAgICAgIHRyYcOnYWJpbGl0w6kgYWxpbWVudGFpcmUsIGlubm92YXRpb25zIGFncml0ZWNoLiBcbiAgICAgICAgUHVibGljYXRpb25zIHLDqWd1bGnDqHJlcyBkJ2FydGljbGVzLCDDqXR1ZGVzIGRlIGNhcywgcmV0b3VycyBkJ2V4cMOpcmllbmNlLiBcbiAgICAgICAgUG9zc2liaWxpdMOpIGRlIHNvdW1ldHRyZSBkZXMgY29udHJpYnV0aW9ucyAodmFsaWRhdGlvbiBwYXIgw6lxdWlwZSDDqWRpdG9yaWFsZSkuIFxuICAgICAgICBOZXdzbGV0dGVyIG1lbnN1ZWxsZSBkaXNwb25pYmxlLmAsXG5cbiAgICAgICAgY29udGFjdDogYENvbnRhY3RleiBURURTQUkgQ29tcGxleCA6IFxuICAgICAgICBFbWFpbCA6IGNvbnRhY3RAdGVkc2FpLmNvbSBcbiAgICAgICAgVMOpbMOpcGhvbmUgOiArMzMgKDApMSBYWCBYWCBYWCBYWCBcbiAgICAgICAgQWRyZXNzZSA6IFtBZHJlc3NlIMOgIGNvbXBsw6l0ZXJdXG4gICAgICAgIEZvcm11bGFpcmUgZGUgY29udGFjdCBkaXNwb25pYmxlIHN1ciBsZSBzaXRlLiBcbiAgICAgICAgSG9yYWlyZXMgZCdvdXZlcnR1cmUgOiBEdSBtYXJkaSBhdSBkaW1hbmNoZS4gXG4gICAgICAgIFLDqXBvbnNlIHNvdXMgMjRoIGVuIGpvdXJzIG91dnLDqXMuIFxuICAgICAgICBQb3VyIGxlcyByw6lzZXJ2YXRpb25zIHJlc3RhdXJhbnQgOiBmb3JtdWxhaXJlIGTDqWRpw6kgb3UgdMOpbMOpcGhvbmUuYCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGNvbnRlbnRNYXBbcGFnZS5wYWdlX2lkXSB8fCBgUGFnZSAke3BhZ2UudGl0bGV9IC0gQ29udGVudSDDoCBpbmRleGVyYDtcbn1cblxuLyoqXG4gKiBJbmRleCBhbGwgc2l0ZSBwYWdlcyB0byBGaXJlc3RvcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluZGV4U2l0ZUNvbnRlbnQoKTogUHJvbWlzZTx7XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICBpbmRleGVkOiBudW1iZXI7XG4gICAgZXJyb3JzOiBzdHJpbmdbXTtcbn0+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IGluZGV4ZWQgPSAwO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gU3RhcnRpbmcgc2l0ZSBpbmRleGF0aW9uLi4uJyk7XG5cbiAgICAgICAgZm9yIChjb25zdCBwYWdlIG9mIFNJVEVfTUFQKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBleHRyYWN0UGFnZUNvbnRlbnQocGFnZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlRGF0YTogU2l0ZUNvbnRlbnRQYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWdlX2lkOiBwYWdlLnBhZ2VfaWQsXG4gICAgICAgICAgICAgICAgICAgIHVybDogcGFnZS51cmwsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwYWdlLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogcGFnZS5jYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZHM6IHBhZ2Uua2V5d29yZHMsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RfaW5kZXhlZDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIGluIEZpcmVzdG9yZVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VSZWYgPSBkb2MoZGIsICdzaXRlX2NvbnRlbnQnLCBwYWdlLnBhZ2VfaWQpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHNldERvYyhwYWdlUmVmLCBwYWdlRGF0YSk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIEluZGV4ZWQ6ICR7cGFnZS50aXRsZX1gKTtcbiAgICAgICAgICAgICAgICBpbmRleGVkKys7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gYEZhaWxlZCB0byBpbmRleCAke3BhZ2UucGFnZV9pZH06ICR7ZXJyb3J9YDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yTXNnKTtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlcnJvck1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhg4pyoIEluZGV4YXRpb24gY29tcGxldGUhICR7aW5kZXhlZH0vJHtTSVRFX01BUC5sZW5ndGh9IHBhZ2VzIGluZGV4ZWQuYCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICAgICAgICBpbmRleGVkLFxuICAgICAgICAgICAgZXJyb3JzLFxuICAgICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBJbmRleGF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGluZGV4ZWQsXG4gICAgICAgICAgICBlcnJvcnM6IFtgR2xvYmFsIGVycm9yOiAke2Vycm9yfWBdLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBTZWFyY2ggc2l0ZSBjb250ZW50IGJ5IGtleXdvcmRzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hTaXRlQ29udGVudChrZXl3b3Jkczogc3RyaW5nW10pOiBQcm9taXNlPFNpdGVDb250ZW50UGFnZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2l0ZUNvbnRlbnRSZWYgPSBjb2xsZWN0aW9uKGRiLCAnc2l0ZV9jb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhzaXRlQ29udGVudFJlZik7XG5cbiAgICAgICAgY29uc3QgYWxsUGFnZXMgPSBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gZG9jLmRhdGEoKSBhcyBTaXRlQ29udGVudFBhZ2UpO1xuXG4gICAgICAgIC8vIEZpbHRlciBwYWdlcyBieSBrZXl3b3Jkc1xuICAgICAgICBjb25zdCByZWxldmFudFBhZ2VzID0gYWxsUGFnZXMuZmlsdGVyKHBhZ2UgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFnZUtleXdvcmRzID0gcGFnZS5rZXl3b3Jkcy5tYXAoayA9PiBrLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoS2V5d29yZHMgPSBrZXl3b3Jkcy5tYXAoayA9PiBrLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gc2VhcmNoS2V5d29yZHMuc29tZShzZWFyY2hLZXkgPT5cbiAgICAgICAgICAgICAgICBwYWdlS2V5d29yZHMuc29tZShwYWdlS2V5ID0+IHBhZ2VLZXkuaW5jbHVkZXMoc2VhcmNoS2V5KSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJldHVybiB0b3AgNSBtb3N0IHJlbGV2YW50XG4gICAgICAgIHJldHVybiByZWxldmFudFBhZ2VzLnNsaWNlKDAsIDUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlYXJjaGluZyBzaXRlIGNvbnRlbnQ6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufVxuXG4vKipcbiAqIEdldCBhbGwgc2l0ZSBjb250ZW50XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxTaXRlQ29udGVudCgpOiBQcm9taXNlPFNpdGVDb250ZW50UGFnZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2l0ZUNvbnRlbnRSZWYgPSBjb2xsZWN0aW9uKGRiLCAnc2l0ZV9jb250ZW50Jyk7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhzaXRlQ29udGVudFJlZik7XG4gICAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gZG9jLmRhdGEoKSBhcyBTaXRlQ29udGVudFBhZ2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNpdGUgY29udGVudDonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZGIiLCJjb2xsZWN0aW9uIiwiZG9jIiwic2V0RG9jIiwic2VydmVyVGltZXN0YW1wIiwiZ2V0RG9jcyIsIlNJVEVfTUFQIiwicGFnZV9pZCIsInVybCIsInRpdGxlIiwiY2F0ZWdvcnkiLCJrZXl3b3JkcyIsImV4dHJhY3RQYWdlQ29udGVudCIsInBhZ2UiLCJjb250ZW50TWFwIiwiaG9tZSIsInZpdGVkaWEiLCJnYXJkZW4iLCJlcGljZXJpZSIsImVsZXZhZ2UiLCJvYnNlcnZhdG9pcmUiLCJjb250YWN0IiwiaW5kZXhTaXRlQ29udGVudCIsImVycm9ycyIsImluZGV4ZWQiLCJjb25zb2xlIiwibG9nIiwiY29udGVudCIsInBhZ2VEYXRhIiwibGFzdF9pbmRleGVkIiwicGFnZVJlZiIsImVycm9yIiwiZXJyb3JNc2ciLCJwdXNoIiwibGVuZ3RoIiwic3VjY2VzcyIsInNlYXJjaFNpdGVDb250ZW50Iiwic2l0ZUNvbnRlbnRSZWYiLCJzbmFwc2hvdCIsImFsbFBhZ2VzIiwiZG9jcyIsIm1hcCIsImRhdGEiLCJyZWxldmFudFBhZ2VzIiwiZmlsdGVyIiwicGFnZUtleXdvcmRzIiwiayIsInRvTG93ZXJDYXNlIiwic2VhcmNoS2V5d29yZHMiLCJzb21lIiwic2VhcmNoS2V5IiwicGFnZUtleSIsImluY2x1ZGVzIiwic2xpY2UiLCJnZXRBbGxTaXRlQ29udGVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/services/chatbot/site-indexer.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@firebase","vendor-chunks/@grpc","vendor-chunks/next","vendor-chunks/firebase","vendor-chunks/protobufjs","vendor-chunks/long","vendor-chunks/@opentelemetry","vendor-chunks/@protobufjs","vendor-chunks/lodash.camelcase","vendor-chunks/tslib","vendor-chunks/idb","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchatbot%2Fchat%2Froute&page=%2Fapi%2Fchatbot%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchatbot%2Fchat%2Froute.ts&appDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fmacbookpro%2FDocuments%2FTEDSAI_AI_VENTURE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();